## 1. 工作空间配置

- [x] 1.1 导入 Workspace、LocalFileSystem、LocalSandbox 和 WORKSPACE_TOOLS 类
- [x] 1.2 创建工作空间路径配置函数，支持 `MASTRA_WORKSPACE_PATH` 环境变量
- [x] 1.3 创建**全局工作空间实例**
- [x] 1.4 初始化工作空间（调用 `.init()` 方法）
- [x] 1.5 确保工作空间只能访问其目录内的文件

## 2. Mastra 集成

- [x] 2.1 在 Mastra 配置中添加 `workspace` 选项，传入全局工作空间实例
- [x] 2.2 确保工作空间在 Mastra 实例中可用
- [x] 2.3 更新类型定义以支持工作空间访问

## 3. 工作空间工具配置

- [x] 3.1 识别需要只读访问的代理（`frontendCodeGeneratorAgent` 等）
- [x] 3.2 创建只读工具配置（禁用 WRITE_FILE、EDIT_FILE、DELETE、MKDIR）
- [x] 3.3 为只读代理应用工具限制配置
- [x] 3.4 确保其他代理使用默认工具配置（所有工具启用）
- [ ] 3.5 验证工具配置正确应用

## 4. 环境配置

- [x] 4.1 添加 `.env.example` 中的 `MASTRA_WORKSPACE_PATH` 变量说明
- [x] 4.2 在 `.env` 文件中设置默认工作空间路径（如需要）- 使用默认值即可
- [x] 4.3 确保工作空间目录在启动时创建（如果不存在）- LocalFilesystem 自动处理

## 5. 测试验证

- [ ] 5.1 测试只读代理可以成功读取文件
- [ ] 5.2 测试只读代理无法调用写入工具（返回工具不可用错误）
- [ ] 5.3 测试可写代理可以正常读写文件
- [ ] 5.4 测试沙盒命令执行功能
- [ ] 5.5 测试环境变量配置是否生效
- [ ] 5.6 运行现有测试确保无回归
